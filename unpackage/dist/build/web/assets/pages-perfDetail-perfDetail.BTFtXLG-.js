import{_ as a,l as e,r as t,m as o,o as s,c as i,w as r,i as n,b as l}from"./index-BmSdLlR2.js";import{_ as c}from"./MyHeader.DeBaNa5e.js";import{r as d}from"./uni-app.es.YhHd3PI_.js";const h=a({data:()=>({chartData_Month:{},colunmopts:{legend:{show:!1},color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],padding:[15,15,0,5],enableScroll:!0,legend:{show:!1},xAxis:{disableGrid:!0,itemCount:5},yAxis:{disabled:!0,format:"yAxisNotFloat",data:[{format:"yAxisNotFloat",min:0}]}},teaminfo:[],fieldMapConfig:{emp_perf:"绩效",EAM_inspection:"EAM巡检",PM_score:"PM",QA_score:"QA",execution_ability:"执行力",labor:"劳动纪律",leakage_rate:"泄漏",operation_rate:"运转率",safety:"本质安全",threeInspection:"三级检查",threeQualification:"三称合格率"}}),methods:{getColumnChartData(a,e){let t=["EAM_inspection","PM_score","QA_score","execution_ability","labor","leakage_rate","operation_rate","safety","threeInspection","threeQualification"],o=[];t.forEach((e=>{let t=0,s=0;a.forEach((a=>{t+=Number(a[e]),s++})),o.push((t/s).toFixed(2))})),t=t.map((a=>this.fieldMapConfig[a])),o[3]={color:"#f56d43",value:Math.abs(o[3])};let s={categories:t,series:[{name:"平均指数",data:o}]};this[e]=JSON.parse(JSON.stringify(s))},getTeamInfo(a){let o=e("token"),s=e("username");t({url:"http://10.72.59.63:90/getprefDetails.php",method:"POST",header:{Authorization:"Bearer "+o},data:{username:s,team:a},success:a=>{a.data.data&&(this.teaminfo=a.data.data,this.getColumnChartData(a.data.data,"chartData_Month"))}})}},onLoad(a){let e=a.team;this.getTeamInfo(e)}},[["render",function(a,e,t,h,m,f){const p=d(o("MyHeader"),c),u=n;return s(),i(u,{class:"perfDetail"},{default:r((()=>[l(p,{title:"人员结构"}),l(u,{class:"container"})])),_:1})}],["__scopeId","data-v-a17e2283"]]);export{h as default};
